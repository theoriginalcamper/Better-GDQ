"use strict";$(document).ready(function(){function e(){$(".links").html('<div id="twitch-switch"><label for="twitch-player-display" id="twitch-player-display-label">Twitch Player Embed</label></div>'),$("#twitch-switch").append('<input type="checkbox" data-size="mini" name="twitch-player-display">'),$("[name='twitch-player-display']").bootstrapSwitch()}function t(e){"add"==e?(console.log("Switch is on. Adding Twitch iframe and modifying UI."),$(".header-toolbar button:nth-child(2)").hasClass("active")?(a=!0,$(".header-toolbar button:nth-child(2)").click()):a=!1,$("button.active").click(),n=!0,i("add"),$(".app").before('<div id="twitch-container" style="width: '+($(document).width()-$(".guilds-wrapper").width()-$(".messages-wrapper").width())+"px; height: "+($(document).height()-$(".title-wrap").outerHeight()-$(".links").outerHeight())+"px; position: fixed; z-index:100; top: "+$(".title-wrap").outerHeight()+"px; left: "+$(".guilds-wrapper").width()+'px;"><iframe id="twitch-embed" src="https://player.twitch.tv/?channel=gamesdonequick" width="100%" height="100%" frameborder="0" scrolling="no" allowFullscreen="true" class="center-block"></iframe></div>')):"remove"==e&&(console.log("Switch is off. Removing Twitch iframe and UI changes."),$("#twitch-container").remove(),n=!1,i("remove"),1==a&&$(".header-toolbar button:nth-child(2)").click())}function i(e){console.log("TwitchActive: "+n),"add"==e?(console.log("Rearranging Discord UI"),$(".messages-wrapper").parent().css("align-items","flex-end"),$(".messages-wrapper").css("width","48%"),$(".messages-wrapper").next("form").css({width:"46%","margin-right":"2%","margin-left":"0px"})):"remove"==e&&(console.log("Discord UI returned to normal"),$(".messages-wrapper").parent().removeAttr("style"),$(".messages-wrapper").removeAttr("style"),$(".messages-wrapper").next("form").removeAttr("style"))}console.log("Hello Discord!"),console.log($(".messages-wrapper"));var a=null,n=!1,o=setInterval(function(){$(".topic").length>0&&(console.log("Add Switch to Links Panel"),e(),clearInterval(o),$('input[name="twitch-player-display"]').on("switchChange.bootstrapSwitch",function(e,i){console.log("Clicked Twitch Switch."),console.log($("[name='twitch-player-display']").bootstrapSwitch("state")),t($('input[name="twitch-player-display"]').bootstrapSwitch("state")?"add":"remove")}))},1e3),r=setInterval(function(){$(".selected").length>0&&($(".guild").on("click",function(){if(n)if($(this).has('a[href="/channels/140605087511740416/140605087511740416"]').length>0){$("#twitch-container").css("display","");var e=setInterval(function(){$(".guild-header").length>0&&"GamesDoneQuick"==$(".guild-header header span").text()&&(i("add"),clearInterval(e))})}else $("#twitch-container").css("display","none"),i("remove")}),clearInterval(r))},1e3)});
//# sourceMappingURL=discord-contentscript.js.map
